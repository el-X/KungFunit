<div layout="row">
    <!-- unit converters to the left -->
    <div layout="row" layout-fill layout-wrap flex="70">
        <md-card ng-repeat="quantity in vm.unitQuantities | orderBy:'name'"
                 ng-if="vm.isUnitQuantitySelected(quantity.name)">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">{{ quantity.name }}</span>
                </md-card-title-text>
                <!--<md-card-actions layout-align="end">-->
                <!--<md-button class="md-icon-button" aria-label="Close">-->
                <!--<md-icon>close</md-icon>-->
                <!--</md-button>-->
                <!--</md-card-actions>-->
            </md-card-title>
            <md-card-content layout="row">
                <div layout="column" flex="45">
                    <md-input-container md-no-float>
                        <input ng-model="lhsValue" ng-change="vm.convertFromLeftToRight(this)" type="number"
                               aria-label="Left hand side value">
                    </md-input-container>
                    <md-input-container>
                        <md-select ng-model="lhsUnit" md-on-close="vm.convertFromLeftToRight(this)"
                                   aria-label="Left hand side unit">
                            <!-- select the first unit -->
                            <md-option ng-repeat="unit in quantity.units" value="{{unit.symbol}}"
                                       ng-selected="$first">
                                {{unit.name}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
                <h2 flex="10" class="md-headline" style="text-align: center">=</h2>
                <div layout="column" flex="45">
                    <md-input-container md-no-float>
                        <input ng-model="rhsValue" ng-change="vm.convertFromRightToLeft(this)" type="number"
                               aria-label="Right hand side value">
                    </md-input-container>
                    <md-input-container>
                        <md-select ng-model="rhsUnit" md-on-close="vm.convertFromLeftToRight(this)"
                                   aria-label="Right hand side unit">
                            <!-- select the second unit -->
                            <md-option ng-repeat="unit in quantity.units" value="{{unit.symbol}}"
                                       ng-selected="$index == 1">
                                {{unit.name}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
            </md-card-content>
        </md-card>
    </div>
    <!-- unit converter search input to the right (which is only displayed when no mobile device is used) -->
    <md-card flex="30" hide show-gt-xs>
        <md-card-title>
            <md-card-title-text>
                <span class="md-headline">Add converters</span>
            </md-card-title-text>
        </md-card-title>
        <md-card-content>
            <md-autocomplete
                md-selected-item="vm.selectedQuantity"
                md-search-text="searchText"
                md-items="item in vm.selectedUnitQuantities"
                md-item-text="item.display"
                md-min-length="0"
                placeholder="Search for a converter">
                <span md-highlight-text="searchText">{{item.display}}</span>
                <md-not-found>
                    No converters matching "{{ctrl.searchText}}" were found.
                </md-not-found>
            </md-autocomplete>
        </md-card-content>
    </md-card>
</div>

